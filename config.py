"""
FinDocParser 配置文件
"""

# ============================================
# 模型配置
# ============================================
MODEL_NAME = "Qwen2.5-VL-3B (Fine-tuned)"
MODEL_API_BASE = "http://localhost:8001/v1"
MODEL_ID = "Qwen2.5-VL-3B"  # ✅ 使用 API 返回的 ID（占位符）

# ============================================
# 推理参数
# ============================================
MAX_TOKENS = 8192
TEMPERATURE = 0.1
TOP_P = 0.7

# ============================================
# Prompt 模板
# ============================================
DEFAULT_PROMPT = """请根据图像中的文字内容，将其转换为规范的 Markdown 格式。

要求：
1. 保留所有表格结构（使用 Markdown 表格语法）
2. 保持标题层级（使用 # ## ### 等）
3. 保留列表和编号
4. 保持文字格式（粗体、斜体等）
5. 确保输出完整且格式规范
"""

# ============================================
# PDF 处理配置
# ============================================
PDF_DPI = 200
IMAGE_FORMAT = "PNG"

# ============================================
# 图像处理配置（关键！）
# ============================================
# Qwen2.5-VL 的图像分辨率限制
IMAGE_MAX_PIXELS = 589824  # 768x768，与训练时一致
IMAGE_MIN_PIXELS = 1024    # 32x32

# ============================================
# 界面配置
# ============================================
TITLE = "📊 FinDocParser Demo"
DESCRIPTION = """
Upload financial documents (PDF or images) to convert them into Markdown format.
支持上传金融文档（PDF 或图片）并转换为 Markdown 格式。
"""

# ============================================
# 文件配置
# ============================================
ALLOWED_FILE_TYPES = [".pdf", ".png", ".jpg", ".jpeg"]
MAX_FILE_SIZE_MB = 50